#!/bin/bash
# Script to extract and format Pok√©mon data from data.json

jq -r '
  .name as $name |
  .height as $height |
  .weight as $weight |
  .types[0].type.name as $type |
  "\($name) is of type \($type), weighs \($weight)kg, and is \($height)m tall."
' data.json |
# Convert decimeters to meters and hectograms to kilograms using awk
awk '{
  height_m = $NF + 0;             # extract height from the last field
  weight_kg = $(NF-4) + 0;        # extract weight from 5th last field
  height_m /= 10;
  weight_kg /= 10;
  sub(/[0-9]+kg/, weight_kg "kg");
  sub(/[0-9.]+m/, height_m "m");
  print;
}'
